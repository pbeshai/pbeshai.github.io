{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You'd think I'd be tired of "},{"type":"element","tagName":"a","properties":{"href":"https://peterbeshai.com/blog/2017-05-26-beautifully-animate-points-with-webgl-and-regl/"},"children":[{"type":"text","value":"animating points"}]},{"type":"text","value":" "},{"type":"element","tagName":"a","properties":{"href":"https://bocoup.com/blog/smoothly-animate-thousands-of-points-with-html5-canvas-and-d3"},"children":[{"type":"text","value":"by now"}]},{"type":"text","value":", but it hasn't gotten old for me yet. Recently, I had the opportunity at "},{"type":"element","tagName":"a","properties":{"href":"https://cortico.ai"},"children":[{"type":"text","value":"work"}]},{"type":"text","value":" to built some flashy animations for a video we were putting together. Our work is centered around geographic locations so it made sense to use map-based visualizations. Annnd the first thing that comes to mind when combining maps and vis is Uber's data vis team's excellent "},{"type":"element","tagName":"a","properties":{"href":"https://deck.gl"},"children":[{"type":"text","value":"deck.gl"}]},{"type":"text","value":" library."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In my use case, I wanted to have a glitzy reveal of all 17,000+ public libraries in the US and ended up with the following:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO FINAL VIDEO"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This post will cover how to make something like that yourself."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Basic point animation using transitions with ScatterplotLayer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I'm not going to cover how to set up DeckGL here, you can see "},{"type":"element","tagName":"a","properties":{"href":"https://deck.gl/#/documentation/getting-started/using-standalone"},"children":[{"type":"text","value":"the examples in their documentation"}]},{"type":"text","value":" or view "},{"type":"element","tagName":"a","properties":{"href":"undefined"},"children":[{"type":"text","value":"the code for this demo"}]},{"type":"text","value":" for details."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Our first approach we'll try for bringing animation to our map vis is to leverage Uber's built-in "},{"type":"element","tagName":"a","properties":{"href":"https://deck.gl/#/documentation/deckgl-api-reference/layers/layer?section=transitions-object-optional-"},"children":[{"type":"text","value":"transitions"}]},{"type":"text","value":" support."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Consider a basic scatterplot layer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" librariesLayer "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ScatterplotLayer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'points-layer'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" librariesData"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  getPosition"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" d "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" d"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"position"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  getFillColor"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"60"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"100"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"200"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  getRadius"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"5000"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This will render our libraries as a bunch of points colored "},{"type":"element","tagName":"span","properties":{"style":"color: rgb(60, 100, 200)"},"children":[{"type":"text","value":"rgb(60, 100, 200)"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Bonus: make things look fancy with additive blending"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Add in point delay with a custom shader"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Bonus: make the camera fly around the map"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"TODO: note about seedrandom?\nTODO: note about CCapture?"}]}],"data":{"quirksMode":false}},"frontmatter":{"title":"Animating points on maps with deck.gl","demo":null,"description":"Learn how to animate points on maps using Uber's deck.gl library with the built-in transition support and custom shaders.","github":null,"img":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACtklEQVQoz3WT2U8TURTGK2IsiNS0EuhGl2mHdjrTaWe60X2bthTKlNqmZauyC0kRgkvQSGKiMTH64KsPxBcT3/w7fPM/+jwtIUiIDyf33pkz3z3f75zRWC0+2KYDcDgimHHnIfnrcDlTcDMpWMx+6PU2mM0CxnUG2ptgMrlgNDKYMjpp76bVAZPZDbtdojwWGouFg90mgfNUEA6uIpfYR5B/hER4Bw5rHOYpGYK3jtERA3S6CUxO2mGcYuDzFOjyBsrpE2SiB5CFNsbGDNBYrTy8MyUkI3tQkq8o4TUysR7q5Q+oZDcR4FRsNM8xl3+K++N6+Ngi5R2jmDxCOnqIz6d/8P75Lwzf1kKj0UDDks0A30IquotIYBkxaY3Ed1HNnaHb+oRa8QyNyhfUlFM05k4xn3+BoNBEXN7Bm6Of+P71N+rKIbR3xy4E+9x4boHKbyMd2wDLJOCnc7+CSHAL2dke2rWPUJV3KKZ6qBaOEQ9tYLvzDWcnP+C0sRdCl+Fi0sRuBSLfQDiwAq+7QMzKUDIHiEqrJLqM2dA6RJ+KRGiT2C1QfgeLpZcwT8oDkaGhoStBh10mhgpksYlZuQveW6EqM2R/jVCokKnrIl+nqrqD99nYHq3riIefYJqm4ELo1pUg44ySyDxcTBIeNgcvQfdzNepylwTriFL1Sfo4G98fYChRV4upvu1tTBjc1+32w0Yjk4nT7eH2YA79vnkEhCUanSWyXqOO76CceYZG9S1V2xk0ThJaeKh3Xa/sMqwWEen4CnHqgGMrA+s+Yij5m3QuUSgkriIktomvApHc6B9YbgpdhofN0I0N4liAKNRIsI1CsoccWQwKKs1dlhCo1KC1gbDVKN7k9m9E5BaxWqQ/ZAv8TJ64MOBcNJtcFaNaHe4Mj+DeiB66cRPs1jA15DE90/63wr/qVne4h07BFgAAAABJRU5ErkJggg==","width":1200,"height":630,"src":"/static/d5256590c6affd3f1a081b84e24838a0/89b45/preview.png","srcSet":"/static/d5256590c6affd3f1a081b84e24838a0/89b45/preview.png 1x"}}},"date":"August 10, 2019"},"fields":{"slug":"/blog/2019-08-10-deckgl-point-animation/","readingTime":{"text":"2 min read"}}}},"pageContext":{"slug":"/blog/2019-08-10-deckgl-point-animation/"}}